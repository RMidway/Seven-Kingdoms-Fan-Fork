namespace = core_resource_dist

# Created by Rowan

###################
### INFORMATION ###
###################
###################

# This event is messy and a WIP

##############################
##### MODifIER REFERENCE #####
##############################
##############################

# kingswood - provides all round buff to archers, a tiny buff to light cavalry (lances), tax income
# rainwood - provides all round buff to archers, a tiny buff to heavy cavalry (lances), tax income
# mistwood - provides all round buff to archers, a tiny buff to light infantry, tax income
# lemonwood - provides all round buff to archers, a tiny buff to light infantry, tax income
# wolfswood - provides all round buff to archers, a tiny buff to light infantry, tax income
# lumber
# flint - provides a small archer and light infantry offensive bonus (a fallback weapon material), small tax income
# coal
# salt
# copper
# tin
# iron
# steel
# silver
# gold
# marble
# granite
# northern_gems
# diamonds
# obsidian
# seals
# cheese
# honey
# livestock
# grain
# fish
# game

# spice
# jewellery
# precious_fabrics

# tsk_arctic
# tsk_arid

# tsk_lush
# tsk_fruitful

# tsk_bleak
# tsk_desolate
# tsk_ravaged
# tsk_volcanic

# tsk_major_population_centre
# tsk_minor_centre_of_trade
# tsk_centre_of_trade
# tsk_natural_harbour
# tsk_major_natural_harbour

#################
### THE EVENT ###
#################
#################

### flags
# province_resource_assigned	# blocks province from having further RESOURCES added (max 1)
# core_resource_setup_complete	# blocks event from firing again

character_event = {
	id = core_resource_dist.1
	hide_window = yes
	is_triggered_only = yes # Triggered from on_startup

	# Event should fire for owned provinces of all landed characters.
	only_playable = yes


	trigger = {
		NOT = { has_character_flag = core_resource_setup_complete }
		is_save_game = no
		has_game_rule = { name = resource_system value = resource_system_enabled }
	}

	immediate = {
		set_character_flag = core_resource_setup_complete
		set_global_flag = core_resource_setup_complete

		any_demesne_province = {

			###################################################
			############## Hand placed modifiers (non resource)

			trigger_switch = {
				on_trigger = province_id

				# The Wall
				1298 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1299 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1300 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1301 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1302 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1303 = { add_province_modifier = { name = tsk_wall duration = -1 } }
				1304 = { add_province_modifier = { name = tsk_wall duration = -1 } }

				# Natural Harbours
				733 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Blackwater Harbour
				829 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Dun Port
				2 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Braavos
				1156 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Pyke
				1023 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Seagard
				1165 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Hammerhorn
				1192 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Lonely Light
				1193 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Lonely Harbour
				1159 = { add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Lordsport

				# Major Population Centres
				544 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Oldtown, Major Pop and Minor Trade, Harbour
				1072 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Gulltown, Major Pop, Major Trade, Harbour
				858 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Lannisport, Major Pop and Major Trade, Harbour
				429 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Sunspear, Major Pop and Minor Trade
				527 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Highgarden, Major Pop and Minor Trade
				831 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Duskendale, Major Pop and Minor Trade
				1000 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Riverrun, Major Pop and Minor Trade
				444 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # Planky Town, Major Pop and Major Trade
				889 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # Castamere, Major Pop and Major Trade
				1003 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # Fairmarket, Major Pop and Major Trade
				1026 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # Oldstones, Major Pop, Major Trade
				730 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # Blackwater Hill, Major Pop and Major Trade
				1204 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } add_province_modifier = { name = tsk_centre_of_trade duration = -1 } } # White Knife, Major Pop and Major Trade
				861 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } } # Casterly Rock, Major Pop
				1198 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } } # Winterfell, Major Pop
				1220 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } } # Dreadfort, Major Pop
				1265 = { add_province_modifier = { name = tsk_major_population_centre duration = -1 } } # Barrowton, Major Pop

				# Centres of Trade
				541 = { add_province_modifier = { name = tsk_centre_of_trade duration = -1 } add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Arbor, Major Trade, Harbour
				801 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } add_province_modifier = { name = tsk_major_natural_harbour duration = -1 } } # Driftmark, Minor Trade, Harbor
				537 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Wynecoast, Minor Trade
				918 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Riverspring, Minor Trade
				1051 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Lord Harroway's Town, Minor Trade
				989 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Maidenpool
				1061 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Saltpans
				1250 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Stoney Sept
				865 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Kayce
				661 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Lockport
				657 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Weeping Town
				619 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Tumbleton
				553 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Sunhouse
				462 = { add_province_modifier = { name = tsk_minor_centre_of_trade duration = -1 } } # Vaith

				# Dragonstone Isles
				797 = { add_province_modifier = { name = tsk_volcanic duration = -1 } } # Dragonstone
				798 = { add_province_modifier = { name = tsk_desolate duration = -1 } }
				799 = { add_province_modifier = { name = tsk_desolate duration = -1 } }
				800 = { add_province_modifier = { name = tsk_desolate duration = -1 } }

				# Lorath, ravaged by war
				65 = { add_province_modifier = { name = tsk_ravaged duration = 7200 } }
				67 = { add_province_modifier = { name = tsk_ravaged duration = 7200 } }
			}

			###########################################################
			########################## Hand placed resources versus ran

			###########
			###### duchy-wide

			if = {
				limit = {
					NOT = { has_province_flag = province_resource_assigned }
				}
				trigger_switch = {
					on_trigger = region

					world_westeros = {
						trigger_switch = {
							on_trigger = de_jure_liege

							d_bear_island = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = wolfswood duration = -1 } set_province_flag = province_resource_assigned } }
							d_deepwood_motte = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = wolfswood duration = -1 } set_province_flag = province_resource_assigned } }
							d_torrhens_square = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = wolfswood duration = -1 } set_province_flag = province_resource_assigned } }
							d_winterfell = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = wolfswood duration = -1 } set_province_flag = province_resource_assigned } }
							d_lemonwood = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = lemonwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_the_scourge = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = lemonwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_yronwood = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = lemonwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_rainwood = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = rainwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_rain_house = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = rainwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_mistwood = {  if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = rainwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_weeping_town = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = rainwood duration = -1 } set_province_flag = province_resource_assigned } }
							d_kingswood = { if = { limit = { OR = { terrain = forest terrain = woods terrain = jungle } } add_province_modifier = { name = kingswood duration = -1 } set_province_flag = province_resource_assigned } }
						}
					}
				}
			}

			###########
			###### hand-selected provinces
			if = {
				limit = {
					NOT = { has_province_flag = province_resource_assigned }
				}
				trigger_switch = {
					on_trigger = region

					world_westeros = {
						trigger_switch = {
							on_trigger = region

							world_the_north = {
								trigger_switch = {
									on_trigger = province_id

									# Northern Clans - A good source of uncut gemstones. To fully exploit the duchy, they must feudalise
									1229 = { add_province_modifier = { name = northern_gems duration = -1 } set_province_flag = province_resource_assigned }
									1231 = { add_province_modifier = { name = northern_gems duration = -1 } set_province_flag = province_resource_assigned }
									1232 = { add_province_modifier = { name = northern_gems duration = -1 } set_province_flag = province_resource_assigned }
									1233 = { add_province_modifier = { name = northern_gems duration = -1 } set_province_flag = province_resource_assigned }
									# East Coast
									1204 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned } # White Knife, Furs
									1215 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Karhold, Seals
									1217 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # East Harbour, Seals
									1218 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Snowdell, Seals
									1219 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Grey Cliff Tower, Seals
									1227 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Northwold, Seals
									# Bear Island
									1240 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Bear Island, Seals
									1242 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Bearstone, Seals
									# Skagos
									1288 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # King's House, Seals
									1293 = { add_province_modifier = { name = seals duration = -1 } set_province_flag = province_resource_assigned } # Driftwood Hall, Seals
								}
							}
							world_the_westerlands = {
								trigger_switch = {
									on_trigger = province_id

									858 = { add_province_modifier = { name = jewellery duration = -1 } set_province_flag = province_resource_assigned } # Lannisport
									861 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # Casterly Rock
									885 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned } # Ironlion, Iron Mine
									889 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # Castamere, Gold Mine
									891 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # Goldcliff, Gold Mine
									894 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # The Crag, Gold Mine
									896 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned } # Saltwest, Salt Mine
									907 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # Goldhorn, Gold Mine
									911 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned } # Golden Tooth, Gold Mine
									929 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned } # Coppermine, Copper
									930 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned } # Copperhall, Copper
									946 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned } # Greenmine, Copper
									952 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned } # Brightsilver, Coal
									954 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned } # Silverhall, Silver
									956 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned } # Goldgate, Coal
									957 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned } # Brightown, Tin
								}
							}
							world_the_stormlands = {
								trigger_switch = {
									on_trigger = province_id

									# Stormlands, Rainwood, Mistwood # d_mistwood, d_rain_house, d_rainwood
									643 = { add_province_modifier = { name = steel duration = -1 } set_province_flag = province_resource_assigned } # Storms End
								}
							}
							 world_the_blackwater = {
								trigger_switch = {
									on_trigger = province_id

									# Blackwater Bay
									733 = { add_province_modifier = { name = jewellery duration = -1 } set_province_flag = province_resource_assigned }
									# Dragonstone - Volcanic activity, good source of both obsidian and diamonds and very good to actually hold.
									797 = { add_province_modifier = { name = obsidian duration = -1 } add_province_modifier = { name = diamonds duration = -1 } set_province_flag = province_resource_assigned }
									798 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned } # Smouldering Isle, Coal
									799 = { add_province_modifier = { name = diamonds duration = -1 } set_province_flag = province_resource_assigned } # Isle of Ember, Diamonds
									800 = { add_province_modifier = { name = obsidian duration = -1 } set_province_flag = province_resource_assigned } # Obsidian, Obsidian (Duh)
									# Driftmark - Spicetown
									801 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned } # Driftmark, Spice
									# Crackclaw
									807 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned } # Crackclaw Barren, Tin
								}
							}
							world_the_vale = {
								trigger_switch = {
									on_trigger = province_id

									1070 = { add_province_modifier = { name = marble duration = -1 } set_province_flag = province_resource_assigned }
									1072 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned }
									1077 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
									1084 = { add_province_modifier = { name = steel duration = -1 } set_province_flag = province_resource_assigned }
									1091 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
									1092 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1098 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
									1099 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1105 = { add_province_modifier = { name = marble duration = -1 } set_province_flag = province_resource_assigned }
									1114 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
									1116 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1138 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1141 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
									1142 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
								}
							}
							world_dorne = {
								trigger_switch = {
									on_trigger = province_id

									444 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned } # Planky Town
									478 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned } # Salt Shore
									493 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned } # Saltmines
								}
							}
							world_the_iron_islands = {
								trigger_switch = {
									on_trigger = province_id

									1156 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
									1157 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
									1165 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
									1166 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1175 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
									1176 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
									1178 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
									1190 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
								}
							}
							world_the_reach = {
								trigger_switch = {
									on_trigger = province_id

									541 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned } # The Arbor
									580 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned } # Honeyholt
									647 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned } # Nightsong
									650 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned } # Dusk Melody
								}
							}
							world_the_riverlands = {
								trigger_switch = {
									on_trigger = province_id

								}
							}
						}
					}
					world_essos = {
						trigger_switch = {
							on_trigger = province_id

							# Pentos
							157 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned }
							160 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned }
							175 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							190 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned }
							# Myr
							241 = { add_province_modifier = { name = jewellery duration = -1 } set_province_flag = province_resource_assigned }
							242 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned }
							247 = { add_province_modifier = { name = precious_fabrics duration = -1 } set_province_flag = province_resource_assigned }
							# Tyrosh
							297 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned }
							298 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
						}
					}
				}
			}

			###########
			###### everything else

			if = {
				limit = {
					NOT = { has_province_flag = province_resource_assigned }
				}
				if = {
					limit = {
						port = no
					}
					trigger_switch = {
						on_trigger = terrain

						arctic = {
							random_list = {
								80 = { set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						barrens = {
							random_list = {
								90 = { set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						farmlands = {
							random_list = {
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = steel duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						forest = {
							random_list = {
								30 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						hills = {
							random_list = {
								10 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								1 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned }
								2 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = marble duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						woods = {
							random_list = {
								20 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						mountain = {
							random_list = {
								10 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								1 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned }
								2 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = marble duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						steppe = {
							random_list = {
								30 = { set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						plains = {
							random_list = {
								20 = { set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						jungle = {
							random_list = {
								30 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						fens = {
							random_list = {
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						marsh = {
							random_list = {
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						desert = {
							random_list = {
								30 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
					}
				}
				else_if = {
					limit = {
						port = yes
					}
					trigger_switch = {
						on_trigger = terrain

						arctic = {
							random_list = {
								40 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						barrens = {
							random_list = {
								50 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						farmlands = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = steel duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						forest = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						hills = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								1 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned }
								2 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						woods = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						mountain = {
							random_list = {
								20 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = coal duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = copper duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = tin duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = iron duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								1 = { add_province_modifier = { name = gold duration = -1 } set_province_flag = province_resource_assigned }
								2 = { add_province_modifier = { name = silver duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = granite duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = marble duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						steppe = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						plains = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						jungle = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = lumber duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = honey duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = spice duration = -1 } set_province_flag = province_resource_assigned }
								5 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						fens = {
							random_list = {
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								20 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						marsh = {
							random_list = {
								10 = { add_province_modifier = { name = cheese duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = game duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						desert = {
							random_list = {
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								15 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
						coastal_desert = {
							random_list = {
								10 = { add_province_modifier = { name = livestock duration = -1 } set_province_flag = province_resource_assigned }
								10 = { add_province_modifier = { name = grain duration = -1 } set_province_flag = province_resource_assigned }
								30 = { add_province_modifier = { name = fish duration = -1 } set_province_flag = province_resource_assigned }
								15 = { add_province_modifier = { name = salt duration = -1 } set_province_flag = province_resource_assigned }
							}
						}
					}
				}
				else = {
					# hm
				}
			}

			###########################################################
			###########################################################

			###########
			###### region-wide modifiers (non-resource)

			trigger_switch = {
				on_trigger = region

				world_essos_nosteps = {
					add_province_modifier = { name = tsk_arid duration = -1 }
				}
				world_the_south_nodorne = {
					trigger_switch = {
						on_trigger = terrain

						plains = {
							random_list = {
								85 = { }
								10 = { add_province_modifier = { name = tsk_lush duration = -1 } }
								5 = { add_province_modifier = { name = tsk_fruitful duration = -1 } }
							}
						}
						farmlands = {
							random_list = {
								70 = { }
								20 = { add_province_modifier = { name = tsk_lush duration = -1 } }
								10 = { add_province_modifier = { name = tsk_fruitful duration = -1 } }
							}
						}
					}
				}
				world_dorne = {
					if = {
						limit = {
							NOR = {
								terrain = desert
								terrain = barrens
							}
						}
						add_province_modifier = { name = tsk_arid duration = -1 }
					}

					trigger_switch = {
						on_trigger = terrain

						desert = {
							random_list = {
								60 = { add_province_modifier = { name = tsk_arid duration = -1 } }
								20 = { add_province_modifier = { name = tsk_lush duration = -1 } }
								20 = { add_province_modifier = { name = tsk_bleak duration = -1 } }
							}
						}
					}
				}
				world_beyond_the_wall = { add_province_modifier = { name = tsk_arctic duration = -1 } }
				world_the_stepstones = { add_province_modifier = { name = tsk_bleak duration = -1 } }
				world_the_wall = { add_province_modifier = { name = tsk_bleak duration = -1 } }
			}

			###########
			###### terrain specific modifier, global

			trigger_switch = {
				on_trigger = terrain

				barrens = {
					random_list = {
						65 = { add_province_modifier = { name = tsk_bleak duration = -1 } }
						35 = { add_province_modifier = { name = tsk_desolate duration = -1 } }
					}
				}
			}
		}
	}
}
